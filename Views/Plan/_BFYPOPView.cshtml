@model FP.Models.AchBFYModel
@using FP.Manager
@using FP.Models
@{
    FP_DBEntities db = new FP_DBEntities();
    ViewBag.Title = "Achievement";
    var tbl = db.tbl_Achvt.Where(x => x.BFYId_fk == Model.BFYId_fk && (x.AchvtBFYID_pk == Model.AchvtBFYID_pk || (x.AchvtBFYID_pk == Guid.Empty && x.BFYId_fk == Model.BFYId_fk)))?.FirstOrDefault();

}

<style>
    #ui-datepicker-div {
        top: 112.073px !important;
    }
</style>
<!-- Modal -->

<div class="modal fade" id="myModalview" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalTitle" aria-hidden="true">
    <div class="modal-dialog" role="document">
        @using (Html.BeginForm("ViewAchBFY", "Plan", FormMethod.Post, new { @class = "", @id = "AchViewBFYformid", role = "form", autocomplete = "off", enctype = "multipart/form-data", noValidate = "novalidate" }))
        {
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="myModalTitle">Contraception View</h5>
                    <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row g-1">
                        <div class="col-sm-12">
                            <div class="bg-light rounded h-100 p-2">
                                @{
                                    if (tbl != null)
                                    {
                                        var ct = CommonModel.GetContraceptive().Where(x => x.Value == tbl.ContraceptionId_fk.ToString()).FirstOrDefault().Text;
                                        var usemn = CommonModel.GetContraceptive_Child(tbl.ContraceptionId_fk.Value).Where(x => x.Value == tbl.UseMethodId_fk.ToString()).FirstOrDefault().Text;
                                        var sp = CommonModel.GetServiceProvider().Where(x => x.Value == tbl.ServiceProvider.ToString()).FirstOrDefault().Text;

                                        <div class="row mb-3">
                                            <div class="col-sm-12">
                                                <div class="position-relative form-group">
                                                    @DisplayAchBFY.Ct <strong>: @ct</strong>
                                                </div>
                                            </div>
                                            <div class="col-sm-12">
                                                <div class="position-relative form-group">
                                                    @DisplayAchBFY.Ctusemethod <strong>: @usemn</strong>
                                                </div>
                                            </div>
                                            <div class="col-sm-12">
                                                <div class="position-relative form-group">
                                                    @DisplayAchBFY.ServiceRevcDt<strong>: @CommonModel.FormateDtDMY(tbl.ServiceRevcDt.ToString())</strong>
                                                </div>
                                            </div>
                                            <div class="col-sm-12">
                                                <div class="position-relative form-group">
                                                    @DisplayAchBFY.ServiceProvider<strong>: @sp</strong>
                                                </div>
                                            </div>
                                            <div class="col-sm-12">
                                                <div class="position-relative form-group">
                                                    @DisplayAchBFY.Location<strong>: @tbl.Location</strong>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                }

                            </div>
                        </div>

                    </div>
                </div>
            </div>
        }
    </div>
</div>


